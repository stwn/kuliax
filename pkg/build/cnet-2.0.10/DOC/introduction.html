<HTML>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HEAD>
<TITLE>The cnet network simulator - introduction</TITLE>
<META NAME="description" CONTENT="cnet enables experimentation
with various data-link layer, network layer, routing and transport
layer networking protocols.  It has been specifically developed for
undergraduate teaching.">

<META NAME="keywords" CONTENT="network, 802.3, ethernet, WAN, simulator,
simulation, protocol, undergraduate, teaching">
</HEAD>

<BODY BGCOLOR="white" TEXT ="black" LINK="blue" VLINK="purple">

<table>
<tr>
<td valign="top" bgcolor="#74dbf2">
<table cellpadding="4" cellspacing="0" border="0"><tr>

<td nowrap>
    <b><i>cnet</i> v2.0.10</b>
    <p>

    <a href="index.html">home</a>
    <br>
    <a href="introduction.html">introduction</a>
    <br>
    <a href="themodel.html">simulation model</a>
    <p>
    <a href="topology.html">topology files</a>
    <br>
    <a href="options.html">cmdline options</a>
    <br>
    <a href="functions.html">the API</a>
    <p>
    <a href="faq.html">FAQ</a>
    <p>
    <a href="install.html">download</a>
</td>

</td></tr></table>
</td>

<td>
<h3>An introduction to the <i>cnet</i> network simulator</h3>

<i>cnet</i> is a network simulator which
enables experimentation with various data-link layer, network layer,
routing and transport layer networking protocols in networks consisting of
any combination of point-to-point links and IEEE&nbsp;802.3 Ethernet segments.
With reference to the OSI/ISO Networking Reference Model,
<i>cnet</i> provides the Application and Physical layers.
User-written protocols are required to ``fill-in'' any necessary internal
layers and, in particular, to overcome the corrupted and lost frames
that <i>cnet</i>'s Physical Layer randomly introduces.
In addition,
advanced users may develop different Application and Physical Layers
which exhibit varying statistical characteristics of message generation
and data transmission.
Simulation sizes may range from two to a few hundred nodes.

<p>
<i>cnet</i> either displays the entire network under
Tcl/Tk or runs rather less visually on an ASCII terminal.
Under Tcl/Tk,
<i>cnet</i> provides a graphical representation of the network
under execution and permits a number of attributes of the network
to be modified while the simulation is running.
Nodes may be selected with the mouse to reveal a sub-window
displaying the output and protocol statistics of that node.
Some of the node's attributes,
such as message generation rates and sizes,
may be modified while the network is running by selecting choice buttons.
Similarly,
the default attributes of all nodes in the network may be
simultaneously modified by selecting and changing global attributes.
From another menu,
each node may be forced to reboot, (impolitely) crash,
(politely) shutdown and reboot, pause and (hardware) fail.

<p>
<IMG SRC="images/mainwindow.gif">
<p>
This is a typical starting representation of a two node simulation,
here implementing the <i>stop-and-wait</i> protocol.
The simulation is currently running but we could pause and then single-step
through our protocol using the buttons.
A total of 82292 messages have been delivered so far,
and the Application Layer
has not been presented with any ``incorrect'' messages.
Our protocol is thus reported as being 100% correct.

<p>
<IMG SRC="images/mainstdio.gif">
<p>
Here we've clicked on one of the nodes to display its output window.
All output on each node's output window is generated by calling C's
<tt>printf()</tt> function in the protocol code.
Here we see an annotation of the <i>stop-and-wait</i> protocol.
The text on the first of the five central buttons
has also been defined by the protocol code.
If this button is selected,
execution will transfer to code provided by the student's code,
perhaps for debugging.
An output window is available for each node, even in large simulations.

<p>
<IMG SRC="images/mainlink.gif">
<p>
Selecting a link results in a sub-window being displayed which shows
transmission statistics for that link.
Links are bidirectional,
so ``selecting a link'' means clicking on the link close to its source node.
The link-based attributes of transmission costs and error probabilities
may be modified while the network is running by dragging sliders.
Similarly,
the attributes of all links in the network may be simultaneously modified by
selecting and changing global link attributes.

<p>
<i>cnet</i> is able to automatically detect and report a wide variety of
errors commonly made by undergraduate students when developing their protocols.
These include invalid arguments passed to functions,
an incorrect specification of links, addresses and timers,
undetected message corruption or loss,
messages passed to incorrect destinations, out-of-sequence or duplicated
messages, etc.
As shown in the following image,
errors are reported in a popup-window describing the error and
its location in the student's source code
(here, the previous line has deliberately caused the error,
and by calling <tt>CHECK</tt> we detect and report the ill-effect).

<p>
<IMG SRC="images/error1.gif">
<p>
<i>cnet</i> can present a limited visualization of data
frames traversing the Physical Layer.
Using simple rectangles, colours, and short strings,
it is possible to display both data and acknowledgment frames,
and the contents of some of their fields.
In combination, these features may be used to debug
implementations of Data Link Layer protocols.
Below, we see a selective-repeat protocol experiencing
frame loss (the upper ghostly white data frame number 5) and
frame corruption (the singed grey data frame number 3),
while other data and acknowledgment frames are also being exchanged.

<p>
<IMG SRC="images/drawframes.gif">

<p>
<i>cnet</i> requires network
protocols to be written in the ANSI-C programming language
and supports their execution within a single UNIX or Linux process.
A standard compiler, preferably <i>gcc</i>,
is used to compile the user-written protocol code.
The compiled code is then dynamically linked at run-time with the
<i>cnet</i> simulator.
Protocols are invoked directly by <i>cnet</i> itself - they are not interpreted.
By design,
the protocols do not need to contain any windowing code.

<p>
<IMG SRC="images/multinode.gif">
<p>

As of version 2.0, <i>cnet</i> supports IEEE&nbsp;802.3 Ethernet segments
as well as its traditional point-to-point WAN links.
Each segment consists of two or more Network Interface Cards (NICs) that
connect host or router nodes to the segment.
Large networks may be constructed by joining multiple Ethernet segments via
gateway nodes and wide-area point-to-point links.
Each NIC's own address is initially defined in the topology file,
in the 6-byte hexadecimal format of traditional Ethernets,
and <i>cnet</i> provides functions to configure each NIC's address,
and to set a NIC into promiscuous mode.
The simulation of Ethernets is reasonable, but not perfect.
<i>cnet</i> supports a fixed transmission rate of 10Mbps,
a slot-time of 52usecs, broadcast addressing,
collision detection, jamming, and binary exponential backoff,
but does not support jitter control nor multicast addressing.

<p>
<IMG SRC="images/ethernet1.gif">
<p>

The <i>current</i> values of the node and link attributes
(as possibly modified via the windowing interface)
are available to the protocol code each node
in <tt>C</tt> data structures and variables.
These structures and variables are declared
in <i>cnet</i>'s header file <tt>&lt;cnet.h&gt;</tt>,
which is included in each node's protocol code.
These structures and variables are initialized when each node is rebooted
and updated as each node is scheduled for execution.
Their values are considered as <i>read-only</i>
and cannot be (successfully) modified directly by the protocols.
They may, of course, be modified via the windowing interface.

<p>
<IMG SRC="images/costs.gif">
<p>

Costs or weights may be assigned to each link,
to represent the cost of transmitting each frame,
or the number of bytes in each frame.
Protocols may then be developed to deliver network traffic which either
minimize the total cost, or maximize the total flow.

<p>
<IMG SRC="images/random12.gif">

<p>
And when you believe that you have your protocols working,
run them with <i>cnet</i>'s
<a href="options.html#option-r"><tt>-r</tt></a> option to generate a
random, connected, topology.

</td></tr></table>


<table width="100%"><tr>
  <td><i>cnet</i> was written and is maintained by Chris McDonald
      <A HREF="mailto:chris@csse.uwa.edu.au">(chris@csse.uwa.edu.au)</a></td>
  <td><img align="right" src="images/UWAsmall.gif"></td>
</tr></table>

</BODY>
</HTML>
